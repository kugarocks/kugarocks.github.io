<!doctype html><html lang=en data-bs-theme=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preload href=https://kugarocks.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://kugarocks.github.io/fonts/vendor/jost/jost-v4-latin-500.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://kugarocks.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2 as=font type=font/woff2 crossorigin><script src=/js/color-mode.86a91f050a481d0a3f0c72ac26543cb6228c770875981c58dcbc008fd3f875c8.js integrity="sha256-hqkfBQpIHQo/DHKsJlQ8tiKMdwh1mBxY3LwAj9P4dcg="></script><link rel=stylesheet href="/main.662d6ab2df4c577548b87cc45329d73a0f3e06121cf0f757adaaf7efc7f672bb628ab617d737f77388af6f1d7978eb96b20a8f70bf1514e34d2ad3677086f48b.css" integrity="sha512-Zi1qst9MV3VIuHzEUynXOg8+BhIc8PdXrar378f2crtiirYX1zf3c4ivbx15eOuWsgqPcL8VFONNKtNncIb0iw==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><base href=https://kugarocks.github.io/en/linux/proc/systemd/><link rel=canonical href=https://kugarocks.github.io/en/linux/proc/systemd/><link rel=alternate hreflang=zh-hk href=https://kugarocks.github.io/zh-hk/linux/proc/systemd/><link rel=alternate hreflang=zh-cn href=https://kugarocks.github.io/zh-cn/linux/proc/systemd/><link rel=alternate hreflang=x-default href=https://kugarocks.github.io/zh-cn/linux/proc/systemd/><link rel=alternate hreflang=en href=https://kugarocks.github.io/en/linux/proc/systemd/><title>Systemd</title>
<meta name=description content="Congrats on setting up a new Doks project!"><link rel=icon href=/favicon.ico sizes=32x32><link rel=icon href=/favicon.svg type=image/svg+xml><link rel=apple-touch-icon href=/apple-touch-icon.png sizes=180x180 type=image/png><link rel=icon href=/favicon-192x192.png sizes=192x192 type=image/png><link rel=icon href=/favicon-512x512.png sizes=512x512 type=image/png><link rel=manifest href=/manifest.webmanifest><meta property="og:title" content="Systemd"><meta property="og:description" content="Systemd
The first process of the system, with a process ID of 1.





  
  
    
  
  ps -p 1
  






  
  
    
  
  PID TTY          TIME CMD
  1 ?        00:00:04 systemd
  

However, when we want to display detailed information, the result will be different."><meta property="og:type" content="article"><meta property="og:url" content="https://kugarocks.github.io/en/linux/proc/systemd/"><meta property="og:image" content="https://kugarocks.github.io/cover.png"><meta property="article:section" content="linux"><meta property="article:published_time" content="2024-08-30T20:00:00+08:00"><meta property="article:modified_time" content="2024-08-30T20:00:00+08:00"><meta property="og:site_name" content="My Docs"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://kugarocks.github.io/cover.png"><meta name=twitter:title content="Systemd"><meta name=twitter:description content="Systemd
The first process of the system, with a process ID of 1.





  
  
    
  
  ps -p 1
  






  
  
    
  
  PID TTY          TIME CMD
  1 ?        00:00:04 systemd
  

However, when we want to display detailed information, the result will be different."><meta name=twitter:site content="@getdoks"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://kugarocks.github.io/en/","name":"Mini Rocks","position":1},{"@type":"ListItem","item":"https://kugarocks.github.io/en/linux/","name":"Linux","position":2},{"@type":"ListItem","item":"https://kugarocks.github.io/en/linux/proc/","name":"Process","position":3},{"@type":"ListItem","name":"Systemd","position":4}]}</script></head><body class="single section linux" data-bs-spy=scroll data-bs-target=#toc data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll=true tabindex=0><div class=sticky-top><header class="navbar navbar-expand-lg"><div class=container-lg><a class="navbar-brand me-auto me-lg-3" href=/en/>kugarocks</a>
<button type=button id=searchToggleMobile class="btn btn-link nav-link mx-2 d-lg-none" aria-label="Search website">
<svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
</button>
<button class="btn btn-link d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasNavSection aria-controls=offcanvasNavSection aria-label="Open section navigation menu"><svg class="icon icon-tabler icon-tabler-dots-vertical" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M12 19m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M12 5m-1 0a1 1 0 102 0 1 1 0 10-2 0"/></svg></button><div class="offcanvas offcanvas-start d-lg-none" tabindex=-1 id=offcanvasNavSection aria-labelledby=offcanvasNavSectionLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasNavSectionLabel>Linux</h5><button type=button class="btn btn-link nav-link p-0 ms-auto" data-bs-dismiss=offcanvas aria-label=Close><svg class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6 6 18"/><path d="M6 6l12 12"/></svg></button></div><div class=offcanvas-body><aside class="doks-sidebar mt-n3"><nav id=doks-docs-nav aria-label="Tertiary navigation"><nav class="section-nav docs-links"><ul class=list-unstyled><li><a href=/en/linux/readme/>README</a></li><li><a href=/en/linux/say-my-name/>Chapter 1: Say My Name</a></li><li><a href=/en/linux/terminal/>Chapter 2: Terminal</a></li><li><details><summary>Chapter 3: Shell</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/shell/intro/>Shell Introduction</a></li><li><a href=/en/linux/shell/command-history/>Command History</a></li><li><a href=/en/linux/shell/basic-operations/>Basic Operations</a></li><li><a href=/en/linux/shell/command-type/>Command Type</a></li><li><a href=/en/linux/shell/shell-variables/>Shell Variables</a></li><li><a href=/en/linux/shell/subshell/>Subshell</a></li></ul></details></li><li><details><summary>Chapter 4: Commands</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/cmd/common-1/>Commands-1</a></li><li><a href=/en/linux/cmd/common-2/>Commands-2</a></li><li><a href=/en/linux/cmd/grep/>GREP</a></li><li><a href=/en/linux/cmd/ps/>PS</a></li><li><a href=/en/linux/cmd/top/>Top</a></li><li><a href=/en/linux/cmd/terminate/>Terminate Processes</a></li><li><a href=/en/linux/cmd/compression/>Compression</a></li></ul></details></li><li><details><summary>Chapter 5: Environment</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/env/concept/>Concept</a></li><li><a href=/en/linux/env/shell-startup/>Shell Startup Process</a></li><li><a href=/en/linux/env/variables/>Environment Variables</a></li><li><a href=/en/linux/env/shebang/>Shebang</a></li></ul></details></li><li><details><summary>Chapter 6: Permission</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/perm/user-mgmt/>User Management</a></li><li><a href=/en/linux/perm/group-mgmt/>Group Management</a></li><li><a href=/en/linux/perm/file-perm/>File Permission</a></li><li><a href=/en/linux/perm/acl/>Access Control List</a></li></ul></details></li><li><details open><summary>Chapter 7: Process</summary><ul class="list-unstyled list-nested"><li class=active><a aria-current=page href=/en/linux/proc/systemd/>Systemd</a></li><li><a href=/en/linux/proc/fd/>File Descriptor</a></li><li><a href=/en/linux/proc/pipe/>Pipe</a></li><li><a href=/en/linux/proc/lsof/>LSOF</a></li><li><a href=/en/linux/proc/ulimit/>ULIMIT</a></li></ul></details></li><li><a href=/en/linux/file-system/>Chapter 8: File System</a></li><li><details><summary>Chapter 9: Shell Script</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/script/syntax/>Basic Syntax</a></li><li><a href=/en/linux/script/cond/>Condition</a></li><li><a href=/en/linux/script/loop/>Loop</a></li><li><a href=/en/linux/script/input/>Input</a></li><li><a href=/en/linux/script/output/>Output</a></li><li><a href=/en/linux/script/signal/>Signal</a></li><li><a href=/en/linux/script/func/>Function</a></li><li><a href=/en/linux/script/param-exp/>Parameter Expansion</a></li><li><a href=/en/linux/script/special-params/>Special Parameters</a></li></ul></details></li><li><details><summary>Chapter 10: Text Processing</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/text/multi-lines/>Multi-Lines Text</a></li><li><a href=/en/linux/text/regex/>Regular Expression</a></li><li><a href=/en/linux/text/sed/>SED</a></li><li><a href=/en/linux/text/gawk-1/>GAWK-1</a></li><li><a href=/en/linux/text/gawk-2/>GAWK-2</a></li></ul></details></li><li><details><summary>Appendix</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/appendix/term-1/>Terms - 1</a></li></ul></details></li></ul></nav></nav></aside></div></div><button class="btn btn-link nav-link mx-2 order-3 d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasNavMain aria-controls=offcanvasNavMain aria-label="Open main navigation menu"><svg class="icon icon-tabler icon-tabler-menu" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="8" x2="20" y2="8"/><line x1="4" y1="16" x2="20" y2="16"/></svg></button><div class="offcanvas offcanvas-end h-auto" tabindex=-1 id=offcanvasNavMain aria-labelledby=offcanvasNavMainLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasNavMainLabel>kugarocks</h5><button type=button class="btn btn-link nav-link p-0 ms-auto" data-bs-dismiss=offcanvas aria-label=Close><svg class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6 6 18"/><path d="M6 6l12 12"/></svg></button></div><div class="offcanvas-body d-flex flex-column flex-lg-row justify-content-between"><ul class="navbar-nav flex-grow-1"><li class=nav-item><a class=nav-link href=https://kugarocks.github.io/en/tech/readme/>Tech</a></li><li class=nav-item><a class="nav-link active" href=https://kugarocks.github.io/en/linux/readme/ aria-current=true>Linux</a></li><li class=nav-item><a class=nav-link href=https://kugarocks.github.io/en/toys/readme/>Toys</a></li><li class=nav-item><a class=nav-link href=https://kugarocks.github.io/en/about/>About</a></li></ul><button type=button id=searchToggleDesktop class="btn btn-link nav-link p-2 d-none d-lg-block" aria-label="Search website"><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg></button><div class="dropdown mt-1 order-lg-2"><button class="btn btn-dropdown dropdown-toggle" id=doks-languages data-bs-toggle=dropdown aria-expanded=false data-bs-display=static>
<span class=dropdown-caret><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c0 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<span id=doks-language-current>English</span><svg class="icon icon-tabler icon-tabler-chevron-down" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 9l6 6 6-6"/></svg></span></button><ul class="dropdown-menu dropdown-menu-lg-end me-lg-2 shadow rounded border-0" aria-labelledby=doks-languages><li><span class="dropdown-item current" aria-current=true>English</span></li><li><hr class=dropdown-divider></li><li><a class=dropdown-item rel=alternate href=/zh-cn/linux/proc/systemd/ hreflang=zh-cn lang=zh-cn>简体中文</a></li><li><a class=dropdown-item rel=alternate href=/zh-hk/linux/proc/systemd/ hreflang=zh-hk lang=zh-hk>繁体中文(香港)</a></li></ul></div><button id=buttonColorMode class="btn btn-link mx-auto nav-link p-0 ms-lg-2 me-lg-1" type=button aria-label="Toggle theme"><svg data-bs-theme-value="dark" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132.0.263.0.393.0a7.5 7.5.0 007.92 12.446A9 9 0 1112 2.992z"/></svg><svg data-bs-theme-value="light" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-4 0a4 4 0 108 0 4 4 0 10-8 0m-5 0h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></svg></button><ul id=socialMenu class="nav mx-auto flex-row order-lg-4"><li class=nav-item><a class="nav-link social-link" href=https://github.com/kugarocks><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg><small class="ms-2 visually-hidden">GitHub</small></a></li></ul></div></div></div></header></div><div class=modal id=searchModal tabindex=-1 aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down"><div class=modal-content><div class=modal-header><h1 class="modal-title fs-5 visually-hidden" id=searchModalLabel>Search</h1><button type=button class="btn-close visually-hidden" data-bs-dismiss=modal aria-label=Close></button><div class="search-input flex-grow-1 d-none"><form id=search-form class=search-form action=# method=post accept-charset=UTF-8 role=search><label for=query class=visually-hidden>Search</label><div class=d-flex><input type=search id=query name=query class="search-text form-control form-control-lg" placeholder=Search aria-label=Search maxlength=128 autocomplete=off>
<button type=button class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss=modal aria-label=Close>Cancel</button></div></form></div></div><div class=modal-body><p class="search-loading status message d-none mt-3 text-center">Loading search index…</p><p class="search-no-recent message d-none mt-3 text-center">No recent searches</p><p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class=query-no-results>Query here</span></strong>"</p><div id=searchResults class=search-results></div><template><article class="search-result list-view"><div class="card my-3"><div class=card-body><header><h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href=#>Title here</a></h2><div class="submitted d-none"><time class=created-date>Date here</time></div></header><div class=content>Summary here</div></div></div></article></template></div><div class=modal-footer><ul class="list-inline me-auto d-none d-md-block"><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4m3 3-3-3 3-3"/></g></svg></kbd><span class=DocSearch-Label>to select</span></li><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8m3-3-3 3-3-3"/></g></svg></kbd><kbd class=me-2><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8m3 3-3-3-3 3"/></g></svg></kbd><span class=DocSearch-Label>to navigate</span></li><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993.0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016s1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5s-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864.0 1.6425 1.031 1.5443 2.2492h-2.956"/></g></svg></kbd><span class=DocSearch-Label>to close</span></li></ul><p class=d-md-none>Search by <a class=text-decoration-none href=https://github.com/nextapps-de/flexsearch>FlexSearch</a></p></div></div></div></div><div class="wrap container-lg" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class="section-nav docs-links"><ul class=list-unstyled><li><a href=/en/linux/readme/>README</a></li><li><a href=/en/linux/say-my-name/>Chapter 1: Say My Name</a></li><li><a href=/en/linux/terminal/>Chapter 2: Terminal</a></li><li><details><summary>Chapter 3: Shell</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/shell/intro/>Shell Introduction</a></li><li><a href=/en/linux/shell/command-history/>Command History</a></li><li><a href=/en/linux/shell/basic-operations/>Basic Operations</a></li><li><a href=/en/linux/shell/command-type/>Command Type</a></li><li><a href=/en/linux/shell/shell-variables/>Shell Variables</a></li><li><a href=/en/linux/shell/subshell/>Subshell</a></li></ul></details></li><li><details><summary>Chapter 4: Commands</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/cmd/common-1/>Commands-1</a></li><li><a href=/en/linux/cmd/common-2/>Commands-2</a></li><li><a href=/en/linux/cmd/grep/>GREP</a></li><li><a href=/en/linux/cmd/ps/>PS</a></li><li><a href=/en/linux/cmd/top/>Top</a></li><li><a href=/en/linux/cmd/terminate/>Terminate Processes</a></li><li><a href=/en/linux/cmd/compression/>Compression</a></li></ul></details></li><li><details><summary>Chapter 5: Environment</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/env/concept/>Concept</a></li><li><a href=/en/linux/env/shell-startup/>Shell Startup Process</a></li><li><a href=/en/linux/env/variables/>Environment Variables</a></li><li><a href=/en/linux/env/shebang/>Shebang</a></li></ul></details></li><li><details><summary>Chapter 6: Permission</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/perm/user-mgmt/>User Management</a></li><li><a href=/en/linux/perm/group-mgmt/>Group Management</a></li><li><a href=/en/linux/perm/file-perm/>File Permission</a></li><li><a href=/en/linux/perm/acl/>Access Control List</a></li></ul></details></li><li><details open><summary>Chapter 7: Process</summary><ul class="list-unstyled list-nested"><li class=active><a aria-current=page href=/en/linux/proc/systemd/>Systemd</a></li><li><a href=/en/linux/proc/fd/>File Descriptor</a></li><li><a href=/en/linux/proc/pipe/>Pipe</a></li><li><a href=/en/linux/proc/lsof/>LSOF</a></li><li><a href=/en/linux/proc/ulimit/>ULIMIT</a></li></ul></details></li><li><a href=/en/linux/file-system/>Chapter 8: File System</a></li><li><details><summary>Chapter 9: Shell Script</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/script/syntax/>Basic Syntax</a></li><li><a href=/en/linux/script/cond/>Condition</a></li><li><a href=/en/linux/script/loop/>Loop</a></li><li><a href=/en/linux/script/input/>Input</a></li><li><a href=/en/linux/script/output/>Output</a></li><li><a href=/en/linux/script/signal/>Signal</a></li><li><a href=/en/linux/script/func/>Function</a></li><li><a href=/en/linux/script/param-exp/>Parameter Expansion</a></li><li><a href=/en/linux/script/special-params/>Special Parameters</a></li></ul></details></li><li><details><summary>Chapter 10: Text Processing</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/text/multi-lines/>Multi-Lines Text</a></li><li><a href=/en/linux/text/regex/>Regular Expression</a></li><li><a href=/en/linux/text/sed/>SED</a></li><li><a href=/en/linux/text/gawk-1/>GAWK-1</a></li><li><a href=/en/linux/text/gawk-2/>GAWK-2</a></li></ul></details></li><li><details><summary>Appendix</summary><ul class="list-unstyled list-nested"><li><a href=/en/linux/appendix/term-1/>Terms - 1</a></li></ul></details></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=toc><ul><li><a href=#systemd>Systemd</a></li><li><a href=#sysvinit>SysVinit</a><ul><li><a href=#runlevel>runlevel</a></li><li><a href=#etcrcxd>/etc/rcX.d</a></li></ul></li><li><a href=#unit-files>Unit Files</a><ul><li><a href=#basic-categories>Basic Categories</a></li><li><a href=#location-directories>Location Directories</a></li><li><a href=#nginx-status>Nginx Status</a></li><li><a href=#nginx-unit-files>Nginx Unit Files</a></li><li><a href=#common-commands>Common Commands</a></li></ul></li><li><a href=#targets>Targets</a><ul><li><a href=#multi-usertarget>multi-user.target</a></li><li><a href=#common-commands-1>Common Commands</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><h1>Systemd</h1><nav class="toc-mobile d-xl-none" aria-label="Quaternary navigation"><details><summary>On this page</summary><div class=page-links><nav id=TableOfContents><ul><li><a href=#systemd>Systemd</a></li><li><a href=#sysvinit>SysVinit</a><ul><li><a href=#runlevel>runlevel</a></li><li><a href=#etcrcxd>/etc/rcX.d</a></li></ul></li><li><a href=#unit-files>Unit Files</a><ul><li><a href=#basic-categories>Basic Categories</a></li><li><a href=#location-directories>Location Directories</a></li><li><a href=#nginx-status>Nginx Status</a></li><li><a href=#nginx-unit-files>Nginx Unit Files</a></li><li><a href=#common-commands>Common Commands</a></li></ul></li><li><a href=#targets>Targets</a><ul><li><a href=#multi-usertarget>multi-user.target</a></li><li><a href=#common-commands-1>Common Commands</a></li></ul></li></ul></nav></div></details></nav><h2 id=systemd>Systemd<a href=#systemd class=anchor aria-hidden=true>#</a></h2><p>The first process of the system, with a process ID of 1.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ps -p <span class=m>1</span></span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>PID TTY          TIME CMD
</span></span><span class=line><span class=cl>  <span class=m>1</span> ?        00:00:04 systemd</span></span></code></pre></div></figure></div><p>However, when we want to display detailed information, the result will be different.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ps -p <span class=m>1</span> -f</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>UID  PID PPID C STIME TTY TIME     CMD
</span></span><span class=line><span class=cl>root   <span class=m>1</span>    <span class=m>0</span> <span class=m>0</span> Aug07 ?   00:00:04 /sbin/init noibrs</span></span></code></pre></div></figure></div><p>In fact, these two processes are the same, because <code>init</code> points to <code>systemd</code>.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>file /sbin/init</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>/sbin/init: symbolic link to /lib/systemd/systemd</span></span></code></pre></div></figure></div><p><code>init</code> is the earliest initialization process in Unix. Since <code>systemd</code> has replaced <code>init</code>,
for compatibility, <code>/sbin/init</code> is usually a symbolic link pointing to <code>systemd</code>.
The naming convention of adding <code>d</code> after the name is the naming convention of Unix daemon processes, and <a href=https://en.wikipedia.org/wiki/System_D>System D</a> is a term,
which means the ability to think quickly and solve problems. <code>systemd</code> was born in 2010, and before that, SysVinit was used.</p><h2 id=sysvinit>SysVinit<a href=#sysvinit class=anchor aria-hidden=true>#</a></h2><p>This initialization method of Unix System V is not used much now, but can still be seen in some old distributions.</p><h3 id=runlevel>runlevel<a href=#runlevel class=anchor aria-hidden=true>#</a></h3><p>runlevel is also a product of this SysVinit.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>runlevel</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>N <span class=m>5</span></span></span></code></pre></div></figure></div><p>5 corresponds to <code>graphical.target</code>, and N means the last runlevel was No.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>who -r</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>run-level <span class=m>5</span>  2024-08-07 21:30</span></span></code></pre></div></figure></div><p>The default target for Ubuntu on Alibaba Cloud is <code>graphical.target</code>,‌
which is for users to manage the operating system using a graphical interface (VNC),
if not needed, the target can be changed to <code>multi-user.target</code>.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl set-default multi-user.target</span></span></code></pre></div></figure></div><h3 id=etcrcxd>/etc/rcX.d<a href=#etcrcxd class=anchor aria-hidden=true>#</a></h3><p>rc stands for run commands, and <code>.d</code> stands for directory, the purpose is to avoid naming conflicts.
This directory contains processes started under a specific runlevel, for example, runlevel 5 corresponds to <code>/etc/rc5.d</code>.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ls -l /etc/rc5.d</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>lrwxrwxrwx <span class=m>1</span> root root <span class=m>13</span> Jul <span class=m>10</span> 11:08 K01fio -&gt; ../init.d/fio
</span></span><span class=line><span class=cl>lrwxrwxrwx <span class=m>1</span> root root <span class=m>20</span> Apr <span class=m>21</span>  <span class=m>2022</span> K01irqbalance -&gt; ../init.d/irqbalance
</span></span><span class=line><span class=cl>lrwxrwxrwx <span class=m>1</span> root root <span class=m>17</span> Jul <span class=m>10</span> 11:05 K01sysstat -&gt; ../init.d/sysstat</span></span></code></pre></div></figure></div><p>Although <code>systemd</code> is now used, for compatibility, these directories and scripts are still retained.</p><h2 id=unit-files>Unit Files<a href=#unit-files class=anchor aria-hidden=true>#</a></h2><p>Unit files are the configuration files of systemd, used to define and manage system services, devices, mount points, sockets, and other system resources.
Each unit file describes how systemd starts, stops, and monitors related resources.</p><h3 id=basic-categories>Basic Categories<a href=#basic-categories class=anchor aria-hidden=true>#</a></h3><table><thead><tr><th style=text-align:left>Type</th><th style=text-align:left>Description</th><th style=text-align:left>Extension</th></tr></thead><tbody><tr><td style=text-align:left>Service Unit</td><td style=text-align:left>System service</td><td style=text-align:left><code>.service</code></td></tr><tr><td style=text-align:left>Mount Unit</td><td style=text-align:left>File system mount point</td><td style=text-align:left><code>.mount</code></td></tr><tr><td style=text-align:left>Device Unit</td><td style=text-align:left>Define device</td><td style=text-align:left><code>.device</code></td></tr><tr><td style=text-align:left>Socket Unit</td><td style=text-align:left>Socket service</td><td style=text-align:left><code>.socket</code></td></tr><tr><td style=text-align:left>Timer Unit</td><td style=text-align:left>Scheduled task</td><td style=text-align:left><code>.timer</code></td></tr><tr><td style=text-align:left>Target Unit</td><td style=text-align:left>System target state</td><td style=text-align:left><code>.target</code></td></tr></tbody></table><h3 id=location-directories>Location Directories<a href=#location-directories class=anchor aria-hidden=true>#</a></h3><ul><li><code>/etc/systemd/system/</code>: Unit files defined by the system administrator.</li><li><code>/usr/lib/systemd/system/</code>: Unit files provided by the distribution.</li><li><code>/run/systemd/system/</code>: Unit files generated at runtime.</li></ul><h3 id=nginx-status>Nginx Status<a href=#nginx-status class=anchor aria-hidden=true>#</a></h3><p>You can view the unit file path of the service through the status of Nginx.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl status nginx</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>● nginx.service - A high performance web server and a reverse proxy server
</span></span><span class=line><span class=cl>     Loaded: loaded <span class=o>(</span>/lib/systemd/system/nginx.service<span class=p>;</span> enabled<span class=p>;</span> vendor preset: enabled<span class=o>)</span>
</span></span><span class=line><span class=cl>     Active: active <span class=o>(</span>running<span class=o>)</span> since Thu 2024-08-08 12:43:17 CST<span class=p>;</span> 2h 1min ago
</span></span><span class=line><span class=cl>       Docs: man:nginx<span class=o>(</span>8<span class=o>)</span>
</span></span><span class=line><span class=cl>   Main PID: <span class=m>11037</span> <span class=o>(</span>nginx<span class=o>)</span>
</span></span><span class=line><span class=cl>      Tasks: <span class=m>3</span> <span class=o>(</span>limit: 1917<span class=o>)</span>
</span></span><span class=line><span class=cl>     Memory: 8.6M
</span></span><span class=line><span class=cl>        CPU: 29ms
</span></span><span class=line><span class=cl>     CGroup: /system.slice/nginx.service
</span></span><span class=line><span class=cl>             ├─11037 <span class=s2>&#34;nginx: master process /usr/sbin/nginx -g daemon on; master_process on;&#34;</span>
</span></span><span class=line><span class=cl>             ├─11039 <span class=s2>&#34;nginx: worker process&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>             └─11040 <span class=s2>&#34;nginx: worker process&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Aug <span class=m>08</span> 12:43:17 guitarocks systemd<span class=o>[</span>1<span class=o>]</span>: Starting A high performance web server and a reverse proxy server...
</span></span><span class=line><span class=cl>Aug <span class=m>08</span> 12:43:17 guitarocks systemd<span class=o>[</span>1<span class=o>]</span>: Started A high performance web server and a reverse proxy server.</span></span></code></pre></div></figure></div><h3 id=nginx-unit-files>Nginx Unit Files<a href=#nginx-unit-files class=anchor aria-hidden=true>#</a></h3><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>/etc/systemd/system/multi-user.target.wants/nginx.service
</span></span><span class=line><span class=cl>/lib/systemd/system/nginx.service
</span></span><span class=line><span class=cl>/usr/lib/systemd/system/nginx.service</span></span></code></pre></div></figure></div><p>There are several paths for the unit file of the Nginx service, the first one is a symbolic link.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>file /etc/systemd/system/multi-user.target.wants/nginx.service</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>...: symbolic link to /lib/systemd/system/nginx.service</span></span></code></pre></div></figure></div><p>The second and third are hard links, their inodes are the same, and <code>/lib</code> is a symbolic link to <code>/usr/lib</code>.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ls -i /usr/lib/systemd/system/nginx.service</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>265498</span> /usr/lib/systemd/system/nginx.service</span></span></code></pre></div></figure></div><hr><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ls -i /lib/systemd/system/nginx.service</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>265498</span> /lib/systemd/system/nginx.service</span></span></code></pre></div></figure></div><hr><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>file /lib</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>/lib: symbolic link to usr/lib</span></span></code></pre></div></figure></div><p>Below is the content of the unit file.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /lib/systemd/system/nginx.service</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Stop dance for nginx</span>
</span></span><span class=line><span class=cl><span class=c1># =======================</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># ExecStop sends SIGSTOP (graceful stop) to the nginx process.</span>
</span></span><span class=line><span class=cl><span class=c1># If, after 5s (--retry QUIT/5) nginx is still running, systemd takes control</span>
</span></span><span class=line><span class=cl><span class=c1># and sends SIGTERM (fast shutdown) to the main process.</span>
</span></span><span class=line><span class=cl><span class=c1># After another 5s (TimeoutStopSec=5), and if nginx is alive, systemd sends</span>
</span></span><span class=line><span class=cl><span class=c1># SIGKILL to all the remaining processes in the process group (KillMode=mixed).</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># nginx signals reference doc:</span>
</span></span><span class=line><span class=cl><span class=c1># http://nginx.org/en/docs/control.html</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># Defines the description and dependency of the service</span>
</span></span><span class=line><span class=cl><span class=o>[</span>Unit<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>Description</span><span class=o>=</span>A high performance web server and a reverse proxy server
</span></span><span class=line><span class=cl><span class=nv>Documentation</span><span class=o>=</span>man:nginx<span class=o>(</span>8<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nv>After</span><span class=o>=</span>network.target nss-lookup.target
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>Service<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=c1># forking means that the service will create a child process when starting, and the parent process will exit</span>
</span></span><span class=line><span class=cl><span class=nv>Type</span><span class=o>=</span>forking
</span></span><span class=line><span class=cl><span class=c1># Store the ID of the main process</span>
</span></span><span class=line><span class=cl><span class=nv>PIDFile</span><span class=o>=</span>/run/nginx.pid
</span></span><span class=line><span class=cl><span class=c1># Start preparation, test nginx configuration</span>
</span></span><span class=line><span class=cl><span class=nv>ExecStartPre</span><span class=o>=</span>/usr/sbin/nginx -t -q -g <span class=s1>&#39;daemon on; master_process on;&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># Start command, -g sets the global specification, which will override the options in the Nginx configuration file</span>
</span></span><span class=line><span class=cl><span class=nv>ExecStart</span><span class=o>=</span>/usr/sbin/nginx -g <span class=s1>&#39;daemon on; master_process on;&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># Reload configuration command</span>
</span></span><span class=line><span class=cl><span class=nv>ExecReload</span><span class=o>=</span>/usr/sbin/nginx -g <span class=s1>&#39;daemon on; master_process on;&#39;</span> -s reload
</span></span><span class=line><span class=cl><span class=c1># Terminate process command</span>
</span></span><span class=line><span class=cl><span class=nv>ExecStop</span><span class=o>=</span>-/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid
</span></span><span class=line><span class=cl><span class=c1># Terminate service waiting time, force termination if it exceeds 5 seconds</span>
</span></span><span class=line><span class=cl><span class=nv>TimeoutStopSec</span><span class=o>=</span><span class=m>5</span>
</span></span><span class=line><span class=cl><span class=c1># Terminate process mode, SIGTERM, timeout, SIGKILL, graceful-&gt;force</span>
</span></span><span class=line><span class=cl><span class=nv>KillMode</span><span class=o>=</span>mixed
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># How to install and enable the service</span>
</span></span><span class=line><span class=cl><span class=o>[</span>Install<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>WantedBy</span><span class=o>=</span>multi-user.target</span></span></code></pre></div></figure></div><h3 id=common-commands>Common Commands<a href=#common-commands class=anchor aria-hidden=true>#</a></h3><ul><li><code>systemctl start [unit]</code>: Start the unit.</li><li><code>systemctl stop [unit]</code>: Stop the unit.</li><li><code>systemctl enable [unit]</code>: Enable the unit, so that it will start automatically at boot.</li><li><code>systemctl disable [unit]</code>: Disable the unit.</li><li><code>systemctl status [unit]</code>: View the status of the unit.</li><li><code>systemctl daemon-reload</code>: Reload the systemd configuration after modifying or adding unit files.</li></ul><h2 id=targets>Targets<a href=#targets class=anchor aria-hidden=true>#</a></h2><p>From the above, we can see that a target is a type of unit file. Unlike general unit files, it represents the current running state of the system,
the target defines which processes and services need to be started under that state, so a target can contain multiple unit files.
You can view the current target of the system with the following command.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl get-default</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>multi-user.target <span class=c1># Multi-user mode, does not include the graphical interface</span></span></span></code></pre></div></figure></div><h3 id=multi-usertarget>multi-user.target<a href=#multi-usertarget class=anchor aria-hidden=true>#</a></h3><p>Target files are usually stored in the <code>/usr/lib/systemd/system/</code> or <code>/etc/systemd/system/</code> directory.
Each target file contains information about the dependencies and startup order of that target.
Let&rsquo;s take a look at the content of the <code>multi-user.target</code> file.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat /lib/systemd/system/multi-user.target</span></span></code></pre></div></figure></div><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1>#  SPDX-License-Identifier: LGPL-2.1-or-later</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1>#  This file is part of systemd.</span>
</span></span><span class=line><span class=cl><span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1>#  systemd is free software; you can redistribute it and/or modify it</span>
</span></span><span class=line><span class=cl><span class=c1>#  under the terms of the GNU Lesser General Public License as published by</span>
</span></span><span class=line><span class=cl><span class=c1>#  the Free Software Foundation; either version 2.1 of the License, or</span>
</span></span><span class=line><span class=cl><span class=c1>#  (at your option) any later version.</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>[</span>Unit<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=nv>Description</span><span class=o>=</span>Multi-User System
</span></span><span class=line><span class=cl><span class=nv>Documentation</span><span class=o>=</span>man:systemd.special<span class=o>(</span>7<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nv>Requires</span><span class=o>=</span>basic.target
</span></span><span class=line><span class=cl><span class=nv>Conflicts</span><span class=o>=</span>rescue.service rescue.target
</span></span><span class=line><span class=cl><span class=nv>After</span><span class=o>=</span>basic.target rescue.service rescue.target
</span></span><span class=line><span class=cl><span class=nv>AllowIsolate</span><span class=o>=</span>yes</span></span></code></pre></div></figure></div><p>The following two directories contain the content needed for the <code>multi-user.target</code> state.</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>/etc/systemd/system/multi-user.target.wants/
</span></span><span class=line><span class=cl>/lib/systemd/system/multi-user.target.wants/</span></span></code></pre></div></figure></div><ul><li><code>/etc</code> is user-defined configuration, <code>/lib</code> is system default configuration.</li><li>User-defined configuration: higher priority, systemd will execute the same service first.</li><li>System default configuration: when the system or software package is updated, it will be updated accordingly.</li></ul><h3 id=common-commands-1>Common Commands<a href=#common-commands-1 class=anchor aria-hidden=true>#</a></h3><p>Set the default target:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl set-default multi-user.target</span></span></code></pre></div></figure></div><p>Switch to a specific target:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl isolate graphical.target</span></span></code></pre></div></figure></div><p>View available targets:</p><div class=expressive-code><figure class="frame not-content"><figcaption class=header><span class=title></span></figcaption><div class=highlight frame=none><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>systemctl list-units --type<span class=o>=</span>target</span></span></code></pre></div></figure></div><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"></div><div class="page-nav d-flex flex-column flex-sm-row"><div class="card w-100"><div class="card-body d-flex"><div class="d-flex flex-column justify-content-center"><svg class="icon icon-tabler icon-tabler-arrow-left" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h14"/><path d="M5 12l6 6"/><path d="M5 12l6-6"/></svg></div><div class="d-flex flex-column"><div class=text-body-secondary>Prev</div><a href=/en/linux/perm/acl/ class="stretched-link text-reset text-decoration-none">Access Control List</a></div></div></div><div class=m-2></div><div class="card text-end w-100"><div class="card-body d-flex justify-content-end"><div class="d-flex flex-column"><div class=text-body-secondary>Next</div><a href=/en/linux/proc/fd/ class="stretched-link text-reset text-decoration-none">File Descriptor</a></div><div class="d-flex flex-column justify-content-center"><svg class="icon icon-tabler icon-tabler-arrow-right" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h14"/><path d="M13 18l6-6"/><path d="M13 6l6 6"/></svg></div></div></div></div></main></div></div></div><footer class="footer text-muted"><div class=container-lg><div class=row><div class="col-lg-8 text-center text-lg-start"><ul class=list-inline><li class=list-inline-item><a class=text-muted href=https://beian.miit.gov.cn/>粤ICP备2024312555号-1</a></li></ul></div><div class="col-lg-8 text-center text-lg-end"><ul class=list-inline><li class=list-inline-item>Brought to you by <a class=text-muted href=https://thulite.io/>Thulite</a></li></ul></div></div></div></footer><script async src=/js/app.c17553444ec7c62f781ddbaa011948f6d85a1bab49420047d68a2b89852a8b36.js integrity="sha256-wXVTRE7Hxi94HduqARlI9thaG6tJQgBH1ooriYUqizY="></script><script async src=/js/flexsearch.en.8f9113291e072f5d0074cc2b714e01be1d0d0e9f3fecfc7f8a004d30f06ee98e.js integrity="sha256-j5ETKR4HL10AdMwrcU4Bvh0NDp8/7Px/igBNMPBu6Y4="></script><script async src=/js/search-modal.0415aa45353ab123a509f6ddc6861549ece898b90872fcf757cd2663041dac96.js integrity="sha256-BBWqRTU6sSOlCfbdxoYVSezomLkIcvz3V80mYwQdrJY="></script></body></html>