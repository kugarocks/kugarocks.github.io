import{_ as i,c as a,o as t,ah as h}from"./chunks/framework.HzbgFGQH.js";const c=JSON.parse('{"title":"GAWK 1","description":"","frontmatter":{},"headers":[],"relativePath":"zh/linux/getting-started/text/gawk-1.md","filePath":"zh/linux/getting-started/text/gawk-1.md","lastUpdated":1746813098000}'),l={name:"zh/linux/getting-started/text/gawk-1.md"};function n(e,s,k,p,d,r){return t(),a("div",null,s[0]||(s[0]=[h(`<h1 id="gawk-1" tabindex="-1">GAWK 1 <a class="header-anchor" href="#gawk-1" aria-label="Permalink to â€œGAWK 1â€">â€‹</a></h1><h2 id="gnu-awk" tabindex="-1">GNU AWK <a class="header-anchor" href="#gnu-awk" aria-label="Permalink to â€œGNU AWKâ€">â€‹</a></h2><p><code>gawk</code> æ˜¯ GNU ç‰ˆæœ¬çš„æ–‡æœ¬å¤„ç†å·¥å…·ã€‚ åœ¨å¤§å¤šæ•° GNU/Linux å‘è¡Œç‰ˆä¸­ï¼Œ<code>gawk</code> æ˜¯é»˜è®¤çš„ <code>awk</code> å®ç°ï¼Œå› æ­¤åœ¨æ—¥å¸¸ä½¿ç”¨ä¸­é€šå¸¸æ²¡æœ‰åŒºåˆ«ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readlink</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/awk</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>/usr/bin/gawk</span></span></code></pre></div><p><code>gawk</code> å‘½ä»¤é»˜è®¤ä½¿ç”¨ ERE æ¨¡å¼ã€‚</p><h3 id="åŸºæœ¬è¯­æ³•" tabindex="-1">åŸºæœ¬è¯­æ³• <a class="header-anchor" href="#åŸºæœ¬è¯­æ³•" aria-label="Permalink to â€œåŸºæœ¬è¯­æ³•â€">â€‹</a></h3><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [OPTIONS] program file</span></span></code></pre></div><ul><li><code>OPTIONS</code>ï¼šå‘½ä»¤é€‰é¡¹ã€‚</li><li><code>program</code>ï¼šè¿™å°¼ç›å‘½ä»¤é‡Œé¢è¿˜æœ‰ä¸ªç¨‹åºã€‚</li><li><code>file</code>ï¼šå¤„ç†çš„æ–‡ä»¶ï¼Œå¦‚æœçœç•¥ï¼Œè¯»å– STDINã€‚</li></ul><p>çœç•¥ <code>file</code> ä¸ºäº¤äº’æ¨¡å¼ï¼Œè¾“å…¥ä¸€è¡Œæ‰§è¡Œä¸€æ¬¡ã€‚</p><h3 id="è¿è¡Œè¿‡ç¨‹" tabindex="-1">è¿è¡Œè¿‡ç¨‹ <a class="header-anchor" href="#è¿è¡Œè¿‡ç¨‹" aria-label="Permalink to â€œè¿è¡Œè¿‡ç¨‹â€">â€‹</a></h3><ul><li>è¯»å…¥ä¸€è¡Œæ•°æ®ï¼š <ul><li>æœ‰åŒ¹é…è§„åˆ™ï¼š <ul><li>åŒ¹é…æˆåŠŸï¼šæ‰§è¡Œç›¸å…³æ“ä½œã€‚</li><li>åŒ¹é…å¤±è´¥ï¼šä¸æ‰§è¡Œæ“ä½œã€‚</li></ul></li><li>æ— åŒ¹é…è§„åˆ™ï¼šæ‰§è¡Œç›¸å…³æ“ä½œã€‚</li></ul></li></ul><h3 id="åŸºç¡€ç”¨æ³•" tabindex="-1">åŸºç¡€ç”¨æ³• <a class="header-anchor" href="#åŸºç¡€ç”¨æ³•" aria-label="Permalink to â€œåŸºç¡€ç”¨æ³•â€">â€‹</a></h3><p>åˆ›å»º foo æ–‡ä»¶ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;aa 11\\nbb 22&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span></span></code></pre></div><p>å¯¹äºæ¯è¡Œæ•°æ®ï¼Œ<code>gawk</code> é»˜è®¤ä½¿ç”¨ç©ºæ ¼/åˆ¶è¡¨ç¬¦åˆ†éš”å­—æ®µã€‚</p><ul><li><code>$N</code>ï¼šè¡¨ç¤ºç¬¬ N ä¸ªå­—æ®µã€‚</li><li><code>$0</code>ï¼šè¡¨ç¤ºæ•´è¡Œæ•°æ®ã€‚</li></ul><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $1}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>aa</span></span>
<span class="line"><span>bb</span></span></code></pre></div><h3 id="begin-end-ç»“æ„" tabindex="-1">BEGIN/END ç»“æ„ <a class="header-anchor" href="#begin-end-ç»“æ„" aria-label="Permalink to â€œBEGIN/END ç»“æ„â€">â€‹</a></h3><ul><li>BEGINï¼šåˆå§‹åŒ–ï¼Œåœ¨è§£é‡Šå‰æ‰§è¡Œã€‚</li><li>BODYï¼šå¯¹æ¯ä¸ªè®°å½•æ‰§è¡Œä¸€æ¬¡ã€‚</li><li>ENDï¼šç»“æŸå¤„ç†ã€‚</li></ul><p>æ³¨æ„ä½¿ç”¨å¼•å· <code>&#39;EOF&#39;</code> åˆ›å»ºæ–‡ä»¶ï¼Œè¿™æ ·ä¸ä¼šå¤„ç†ç‰¹æ®Šå­—ç¬¦ <code>$</code>ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;EOF&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo.gawk</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">BEGIN {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    FS=&quot;:&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    print &quot;User\\tShell&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    print &quot;-------\\t-------&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    print $1 &quot;\\t&quot; $6</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">END {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    print &quot;-------\\t-------&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span></code></pre></div><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/passwd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo.gawk</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>User    Shell</span></span>
<span class="line"><span>------- -------</span></span>
<span class="line"><span>root    /root</span></span>
<span class="line"><span>daemon  /usr/sbin</span></span>
<span class="line"><span>bin     /bin</span></span>
<span class="line"><span>------- -------</span></span></code></pre></div><h2 id="å¸¸ç”¨é€‰é¡¹" tabindex="-1">å¸¸ç”¨é€‰é¡¹ <a class="header-anchor" href="#å¸¸ç”¨é€‰é¡¹" aria-label="Permalink to â€œå¸¸ç”¨é€‰é¡¹â€">â€‹</a></h2><h3 id="æŒ‡å®šåˆ†éš”ç¬¦" tabindex="-1">æŒ‡å®šåˆ†éš”ç¬¦ <a class="header-anchor" href="#æŒ‡å®šåˆ†éš”ç¬¦" aria-label="Permalink to â€œæŒ‡å®šåˆ†éš”ç¬¦â€">â€‹</a></h3><p><code>-F</code> é€‰é¡¹å¯ä»¥ä¿®æ”¹è¡Œçš„åˆ†éš”ç¬¦ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $1}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/passwd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span></code></pre></div><h3 id="æŒ‡å®šæ–‡ä»¶" tabindex="-1">æŒ‡å®šæ–‡ä»¶ <a class="header-anchor" href="#æŒ‡å®šæ–‡ä»¶" aria-label="Permalink to â€œæŒ‡å®šæ–‡ä»¶â€">â€‹</a></h3><p><code>-f</code> é€‰é¡¹å¯ä»¥æŒ‡å®šæ–‡ä»¶ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $1 &quot;-dir:&quot; $6}&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo.gawk</span></span></code></pre></div><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo.gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/passwd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>root-dir:/root</span></span></code></pre></div><h3 id="å˜é‡å‚æ•°èµ‹å€¼" tabindex="-1">å˜é‡å‚æ•°èµ‹å€¼ <a class="header-anchor" href="#å˜é‡å‚æ•°èµ‹å€¼" aria-label="Permalink to â€œå˜é‡å‚æ•°èµ‹å€¼â€">â€‹</a></h3><p><code>-v</code> é€‰é¡¹å¯ä»¥åœ¨ BEGIN ä¹‹å‰ç»™å˜é‡èµ‹å€¼ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> n=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;BEGIN{print 2*n}&#39;</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>4</span></span></code></pre></div><p>å¦‚æœä¸éœ€è¦åœ¨ BEGIN ä¸­ä½¿ç”¨ï¼Œå¯ä»¥ä¸ç”¨ <code>-v</code> å‚æ•°ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;a b c&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{print $n}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> n=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>b</span></span></code></pre></div><h2 id="å†…ç½®å˜é‡" tabindex="-1">å†…ç½®å˜é‡ <a class="header-anchor" href="#å†…ç½®å˜é‡" aria-label="Permalink to â€œå†…ç½®å˜é‡â€">â€‹</a></h2><h3 id="å˜é‡-n" tabindex="-1">å˜é‡ $N <a class="header-anchor" href="#å˜é‡-n" aria-label="Permalink to â€œå˜é‡ $Nâ€">â€‹</a></h3><p><code>$N</code> è¿˜å¯ä»¥èµ‹å€¼ï¼Œå­—ç¬¦ä¸²çš„åŒå¼•å·ä¸èƒ½çœç•¥ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;hey man&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{$2=&quot;bro&quot;; print $0}&#39;</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>hey bro</span></span></code></pre></div><h3 id="å˜é‡-fs" tabindex="-1">å˜é‡ FS <a class="header-anchor" href="#å˜é‡-fs" aria-label="Permalink to â€œå˜é‡ FSâ€">â€‹</a></h3><p>Field Separatorï¼Œå­—æ®µåˆ†éš”ç¬¦ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;BEGIN{FS=&quot;:&quot;} {print $1}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/passwd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span></code></pre></div><h3 id="å˜é‡-nf" tabindex="-1">å˜é‡ NF <a class="header-anchor" href="#å˜é‡-nf" aria-label="Permalink to â€œå˜é‡ NFâ€">â€‹</a></h3><p>Number of Fieldsï¼Œè¡¨ç¤ºè®°å½•ä¸­çš„å­—æ®µçš„æ•°é‡ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;$1==&quot;root&quot;{print $1&quot;:&quot;$NF}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/passwd</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>root:/bin/bash</span></span></code></pre></div><h3 id="å˜é‡-nr" tabindex="-1">å˜é‡ NR <a class="header-anchor" href="#å˜é‡-nr" aria-label="Permalink to â€œå˜é‡ NRâ€">â€‹</a></h3><p>Number of Recordsï¼Œè¡¨ç¤ºå½“å‰å¤„ç†çš„è®°å½•ç¼–å·ï¼Œé»˜è®¤å€¼ä¸º 1ï¼Œå¤„ç†ä¸€è¡Œåä¼šåŠ  1ã€‚ å¯ç”¨äºè·³è¿‡æ–‡æœ¬çš„ç¬¬ä¸€è¡Œï¼Œç¬¬ä¸€è¡Œçš„ <code>NR</code> å€¼ä¸º 1ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">name score</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">foo  90</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">bar  80</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span></code></pre></div><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{if (NR&gt;1) {if ($2&gt;85) {print $1,$2}}}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>foo 90</span></span></code></pre></div><h3 id="å˜é‡-rs" tabindex="-1">å˜é‡ RS <a class="header-anchor" href="#å˜é‡-rs" aria-label="Permalink to â€œå˜é‡ RSâ€">â€‹</a></h3><p>Record Separatorï¼Œè¾“å…¥è®°å½•åˆ†éš”ç¬¦ï¼Œé»˜è®¤å€¼ä¸º <code>\\n</code>ï¼Œè¡¨ç¤ºä»¥æ¢è¡Œç¬¦åˆ†éš”æ¯æ¡è®°å½•ã€‚ å°† <code>RS</code> è®¾ç½®ä¸º <code>&quot;&quot;</code> è¡¨ç¤ºä»¥ç©ºè¡Œä½œä¸ºè®°å½•åˆ†éš”ç¬¦ï¼Œå¯¹äºä¸‹é¢çš„æ–‡æœ¬ï¼Œä¼šåˆ†ä¸ºä¸Šä¸‹ 2 ä¸ªè®°å½•ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">apple</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sweet</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">red</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">banana</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sweet</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">yellow</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span></code></pre></div><p>è®¾ç½® <code>FS=&quot;\\n&quot;</code>ï¼Œåˆ™å¯é€šè¿‡ <code>$N</code> è·å–æ¯è¡Œè®°å½•ã€‚<code>RS</code> å’Œ <code>FS</code> é€šå¸¸ç»“åˆä½¿ç”¨ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;BEGIN{RS=&quot;&quot;; FS=&quot;\\n&quot;} {print $1&quot;\\t&quot;$3}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>apple  red</span></span>
<span class="line"><span>banana yellow</span></span></code></pre></div><h3 id="å˜é‡-ofs" tabindex="-1">å˜é‡ OFS <a class="header-anchor" href="#å˜é‡-ofs" aria-label="Permalink to â€œå˜é‡ OFSâ€">â€‹</a></h3><p>Output Field Separatorï¼Œè¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;aa,bb&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;BEGIN{FS=&quot;,&quot;; OFS=&quot;-&quot;} {print $1,$2}&#39;</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>aa-bb</span></span></code></pre></div><h3 id="å˜é‡-fieldwidths" tabindex="-1">å˜é‡ FIELDWIDTHS <a class="header-anchor" href="#å˜é‡-fieldwidths" aria-label="Permalink to â€œå˜é‡ FIELDWIDTHSâ€">â€‹</a></h3><p>æŒ‡å®šå­—ç¬¦å®½åº¦è¿›è¡Œåˆ†éš”ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;abbc&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;BEGIN{FIELDWIDTHS=&quot;1 2 1&quot;} {print $1,$2,$3}&#39;</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>a bb c</span></span></code></pre></div><h2 id="æ¡ä»¶ä¸ç»“æ„" tabindex="-1">æ¡ä»¶ä¸ç»“æ„ <a class="header-anchor" href="#æ¡ä»¶ä¸ç»“æ„" aria-label="Permalink to â€œæ¡ä»¶ä¸ç»“æ„â€">â€‹</a></h2><h3 id="æ¡ä»¶è¡¨è¾¾å¼" tabindex="-1">æ¡ä»¶è¡¨è¾¾å¼ <a class="header-anchor" href="#æ¡ä»¶è¡¨è¾¾å¼" aria-label="Permalink to â€œæ¡ä»¶è¡¨è¾¾å¼â€">â€‹</a></h3><p><code>==</code>ã€<code>&lt;</code>ï¼Œ<code>&lt;=</code>ï¼Œ<code>&gt;</code>ï¼Œ<code>&gt;=</code>ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;$7==&quot;/bin/bash&quot;{print $1}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/passwd</span></span></code></pre></div><p>è¾“å‡ºæ‰€æœ‰ä»¥ bash å¯åŠ¨çš„ç”¨æˆ·ã€‚</p><h3 id="æ¡ä»¶è¯­å¥" tabindex="-1">æ¡ä»¶è¯­å¥ <a class="header-anchor" href="#æ¡ä»¶è¯­å¥" aria-label="Permalink to â€œæ¡ä»¶è¯­å¥â€">â€‹</a></h3><p><code>if</code> é‡Œé¢å•æ¡è¯­å¥å¯ä¸åŠ  <code>{}</code>ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;10\\n20&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{if ($1&gt;15) print $1}&#39;</span></span></code></pre></div><p><code>if</code> é‡Œé¢å¤šæ¡è¯­å¥è¦åŠ  <code>{}</code>ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;10\\n20&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{if ($1&gt;15) {x=2*$i; print x}}&#39;</span></span></code></pre></div><p>å•è¡Œçš„ <code>else</code> è¯­å¥ï¼Œå‰é¢çš„è¯­å¥è¦åŠ  <code>;</code> å·ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;10\\n20&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{if ($1&gt;15) print $1; else print &quot;no&quot;}&#39;</span></span></code></pre></div><p>å¤šè¡Œä¸éœ€è¦åŠ åˆ†å·ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;10\\n20&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">if ($i&gt;15) {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    x=2*$i</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    print x</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} else {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    print &quot;no&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&#39;</span></span></code></pre></div><h3 id="for-è¯­å¥" tabindex="-1">FOR è¯­å¥ <a class="header-anchor" href="#for-è¯­å¥" aria-label="Permalink to â€œFOR è¯­å¥â€">â€‹</a></h3><p>å¯¹æ¯ä¸€è¡Œçš„å­—æ®µæ±‚å’Œï¼Œ<code>+=</code> å’Œ <code>++</code> éƒ½æ”¯æŒã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1 2 3&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">total=0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">for (i=1; i&lt;=NF; i++) {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    total += $i</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">print total</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&#39;</span></span></code></pre></div><h3 id="while-è¯­å¥" tabindex="-1">WHILE è¯­å¥ <a class="header-anchor" href="#while-è¯­å¥" aria-label="Permalink to â€œWHILE è¯­å¥â€">â€‹</a></h3><p>å¯¹æ¯ä¸€è¡Œçš„å­—æ®µæ±‚å’Œã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1 2 3&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">i=1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">total=0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">while (i&lt;=NF) {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    total += $i</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    i++</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">print total</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&#39;</span></span></code></pre></div><h3 id="do-while-è¯­å¥" tabindex="-1">DO-WHILE è¯­å¥ <a class="header-anchor" href="#do-while-è¯­å¥" aria-label="Permalink to â€œDO-WHILE è¯­å¥â€">â€‹</a></h3><p>å¯¹æ¯ä¸€è¡Œçš„å­—æ®µæ±‚å’Œ</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1 2 3&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">i=1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">total=0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">do {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    total += $i</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    i++</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} while(i&lt;=NF)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">print total</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&#39;</span></span></code></pre></div><h2 id="å‡½æ•°ç›¸å…³" tabindex="-1">å‡½æ•°ç›¸å…³ <a class="header-anchor" href="#å‡½æ•°ç›¸å…³" aria-label="Permalink to â€œå‡½æ•°ç›¸å…³â€">â€‹</a></h2><h3 id="å†…å»ºå‡½æ•°" tabindex="-1">å†…å»ºå‡½æ•° <a class="header-anchor" href="#å†…å»ºå‡½æ•°" aria-label="Permalink to â€œå†…å»ºå‡½æ•°â€">â€‹</a></h3><ul><li><code>int(x)</code>ï¼šå– x çš„æ•´æ•°éƒ¨åˆ†ã€‚</li><li><code>exp(x)</code>ï¼šx çš„æŒ‡æ•°ã€‚</li><li><code>sqrt(x)</code>ï¼šx çš„å¹³æ–¹æ ¹ã€‚</li><li><code>rand()</code>ï¼šæ¯” 0 å¤§ä¸”å°äº 1 çš„éšæœºæ•°ã€‚</li><li><code>length(x)</code>ï¼šx çš„å­—ç¬¦ä¸²é•¿åº¦ã€‚</li><li><code>tolower(x)</code>ï¼šx è½¬å°å†™ã€‚</li><li><code>toupper(x)</code>ï¼šx è½¬å¤§å†™ã€‚</li></ul><p>è¿˜æœ‰å¾ˆå¤šï¼Œå¦‚ <code>gensub</code>ï¼Œ<code>gsub</code>ã€‚</p><h3 id="è‡ªå®šä¹‰å‡½æ•°" tabindex="-1">è‡ªå®šä¹‰å‡½æ•° <a class="header-anchor" href="#è‡ªå®šä¹‰å‡½æ•°" aria-label="Permalink to â€œè‡ªå®šä¹‰å‡½æ•°â€">â€‹</a></h3><p>è‡ªå®šä¹‰å‡½æ•°å¿…é¡»å‡ºç°åœ¨ <code>BEGIN</code> å—ä¹‹å‰ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">function random(ts, num) {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    srand(ts)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    return int(num * rand())</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">BEGIN {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ts=systime()</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    print ts</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    print random(ts, 10)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&#39;</span></span></code></pre></div><p>å¯ä»¥ä½¿ç”¨å‡½æ•°åº“æ–‡ä»¶ï¼Œå†å¼•ç”¨ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;EOF&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> funclib.gawk</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">function random(ts, num) {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    srand(ts)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    return int(num * rand())</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span></code></pre></div><p>gawk ç¨‹åºæ–‡ä»¶å¦‚ä¸‹ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;EOF&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.gawk</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">BEGIN {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ts=systime()</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    print ts</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    print random(ts, 10)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span></code></pre></div><p>ä½¿ç”¨ -f é€‰é¡¹å¼•ç”¨ä¸¤ä¸ªæ–‡ä»¶ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> funclib.gawk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test.gawk</span></span></code></pre></div><p>å¼•ç”¨å‡½æ•°åº“å°±ä¸èƒ½ä½¿ç”¨å†…è”ç¨‹åºæ¨¡å¼ï¼Œéƒ½éœ€è¦å¼•ç”¨ã€‚</p><h2 id="å…¶å®ƒä¾‹å­" tabindex="-1">å…¶å®ƒä¾‹å­ <a class="header-anchor" href="#å…¶å®ƒä¾‹å­" aria-label="Permalink to â€œå…¶å®ƒä¾‹å­â€">â€‹</a></h2><h3 id="è‡ªå®šä¹‰å˜é‡" tabindex="-1">è‡ªå®šä¹‰å˜é‡ <a class="header-anchor" href="#è‡ªå®šä¹‰å˜é‡" aria-label="Permalink to â€œè‡ªå®šä¹‰å˜é‡â€">â€‹</a></h3><p>æ”¯æŒæ•°å­¦è¿ç®—å’Œæµ®ç‚¹æ•°ï¼Œè¿™ä¸æ¯” bash å¼º ğŸ¤ªã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;BEGIN{a=2; a=a*2/3; print a}&#39;</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>1.33333</span></span></code></pre></div><h3 id="æ•°ç»„æ“ä½œ" tabindex="-1">æ•°ç»„æ“ä½œ <a class="header-anchor" href="#æ•°ç»„æ“ä½œ" aria-label="Permalink to â€œæ•°ç»„æ“ä½œâ€">â€‹</a></h3><p>ç‰¹ç‚¹ï¼šå…³è”æ•°ç»„ï¼Œç±»ä¼¼å­—å…¸ï¼Œæ— åºã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;BEGIN{arr[&quot;name&quot;]=&quot;foo&quot;; print arr[&quot;name&quot;]}&#39;</span></span></code></pre></div><p>å¯ä»¥ä½¿ç”¨æ•°å­—ä¸‹æ ‡ï¼Œå…¶å®ä¹Ÿæ˜¯å­—å…¸ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;BEGIN{arr[3]=&quot;foo&quot;; print arr[3]}&#39;</span></span></code></pre></div><p>éå†æ•°ç»„ï¼Œåˆ é™¤å…ƒç´ ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;BEGIN{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">arr[&quot;a&quot;]=1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">arr[2]=2</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">arr[&quot;c&quot;]=&quot;cat&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">delete arr[2]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">for (k in arr) {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    print &quot;key:&quot;,k,&quot; val:&quot;, arr[k]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>key: a  val: 1</span></span>
<span class="line"><span>key: c  val: cat</span></span></code></pre></div><h3 id="æ ¼å¼åŒ–æ‰“å°" tabindex="-1">æ ¼å¼åŒ–æ‰“å° <a class="header-anchor" href="#æ ¼å¼åŒ–æ‰“å°" aria-label="Permalink to â€œæ ¼å¼åŒ–æ‰“å°â€">â€‹</a></h3><p>å¤„ç†æµ®ç‚¹æ•°ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;BEGIN{printf &quot;%.2f\\n&quot;, 2/3}&#39;</span></span></code></pre></div><div class="language-txt"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>0.67</span></span></code></pre></div><p>æŒ‡å®šå®½åº¦ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;foo\\nfoobar&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{printf &quot;%8s\\n&quot;, $1}&#39;</span></span></code></pre></div><p>å·¦å¯¹é½ã€‚</p><div class="language-bash"><button title="å¤åˆ¶ä»£ç " class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;foo\\nfoobar&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gawk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{printf &quot;%-8s\\n&quot;, $1}&#39;</span></span></code></pre></div>`,130)]))}const F=i(l,[["render",n]]);export{c as __pageData,F as default};
