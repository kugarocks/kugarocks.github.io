import{_ as s,c as a,o as e,ah as h}from"./chunks/framework.HzbgFGQH.js";const o=JSON.parse('{"title":"GREP","description":"","frontmatter":{},"headers":[],"relativePath":"zh/linux/getting-started/commands/grep.md","filePath":"zh/linux/getting-started/commands/grep.md","lastUpdated":1746885209000}'),t={name:"zh/linux/getting-started/commands/grep.md"};function l(n,i,k,r,p,d){return e(),a("div",null,i[0]||(i[0]=[h('<h1 id="grep" tabindex="-1">GREP <a class="header-anchor" href="#grep" aria-label="Permalink to “GREP”">​</a></h1><p>全称 <strong>Global Regular Expression Print</strong>，来源于一个 Unix 编辑器 <code>ed</code> 中的命令 <code>g/re/p</code>， 其中 <code>g</code>（global）是全局匹配，<code>re</code>（regular expression）是正则表达式，<code>p</code>（print）是打印。 因此，<code>grep</code> 工具本质上就是用来全局匹配正则表达式并打印结果。</p><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">man</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grep</span></span></code></pre></div><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> egrep,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fgrep,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rgrep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> print</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lines</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> that</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> match</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> patterns</span></span></code></pre></div><p>另外 <code>egrep</code>、<code>fgrep</code> 、<code>rgrep</code> 分别与 <code>grep -E</code>、<code>grep -F</code> 、<code>grep -r</code> 相同。 这些变体已被弃用，但为了向后兼容仍然提供。 另外如果不使用正则表达式，<strong>使用 <code>-F</code> 选项会更快</strong>， 因为默认情况下，即使没有使用正则表达式，<code>grep</code> 仍然会将模式视为正则表达式。</p><h2 id="正则表达式" tabindex="-1">正则表达式 <a class="header-anchor" href="#正则表达式" aria-label="Permalink to “正则表达式”">​</a></h2><p><code>grep</code> 默认使用POSIX的正则表达式，根据不同选项分为以下几种：</p><ol><li><p><strong>基本正则表达式（Basic Regular Expressions，BRE）</strong>： 默认模式，POSIX 标准，某些元字符（如 <code>?</code>、<code>+</code>、<code>{}</code>）需要通过反斜杠 <code>\\</code> 来转义。</p></li><li><p><strong>扩展正则表达式（Extended Regular Expressions，ERE）</strong>： 通过 <code>grep -E</code> 或 <code>egrep</code> 使用，像 <code>?</code>、<code>+</code>、<code>{}</code> 等元字符可以直接使用，无需转义。</p></li><li><p><strong>Perl 风格的正则表达式（Perl-Compatible Regular Expressions，PCRE）</strong>： 某些 <code>grep</code> 实现（如 GNU <code>grep</code>）提供了 <code>-P</code> 选项，用于启用 Perl 风格的正则表达式。</p></li></ol><div class="warning custom-block"><p class="custom-block-title custom-block-title-default">WARNING</p><p>某些 grep 实现（如 GNU grep）提供了 -P 选项，用于启用 Perl 风格的正则表达式。</p></div><h2 id="常用例子" tabindex="-1">常用例子 <a class="header-anchor" href="#常用例子" aria-label="Permalink to “常用例子”">​</a></h2><h3 id="反向匹配" tabindex="-1">反向匹配 <a class="header-anchor" href="#反向匹配" aria-label="Permalink to “反向匹配”">​</a></h3><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span></code></pre></div><h3 id="忽略大小写" tabindex="-1">忽略大小写 <a class="header-anchor" href="#忽略大小写" aria-label="Permalink to “忽略大小写”">​</a></h3><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Foo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span></code></pre></div><h3 id="统计匹配行数" tabindex="-1">统计匹配行数 <a class="header-anchor" href="#统计匹配行数" aria-label="Permalink to “统计匹配行数”">​</a></h3><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span></code></pre></div><h3 id="固定字符串匹配" tabindex="-1">固定字符串匹配 <a class="header-anchor" href="#固定字符串匹配" aria-label="Permalink to “固定字符串匹配”">​</a></h3><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -F</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span></code></pre></div><h3 id="递归搜索目录文件" tabindex="-1">递归搜索目录文件 <a class="header-anchor" href="#递归搜索目录文件" aria-label="Permalink to “递归搜索目录文件”">​</a></h3><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path</span></span></code></pre></div><h3 id="列出匹配的文件名" tabindex="-1">列出匹配的文件名 <a class="header-anchor" href="#列出匹配的文件名" aria-label="Permalink to “列出匹配的文件名”">​</a></h3><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.txt</span></span></code></pre></div><h3 id="列出不匹配的文件名" tabindex="-1">列出不匹配的文件名 <a class="header-anchor" href="#列出不匹配的文件名" aria-label="Permalink to “列出不匹配的文件名”">​</a></h3><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path</span></span></code></pre></div><h3 id="匹配行及后面-n-行" tabindex="-1">匹配行及后面 N 行 <a class="header-anchor" href="#匹配行及后面-n-行" aria-label="Permalink to “匹配行及后面 N 行”">​</a></h3><p>After</p><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -A</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span></code></pre></div><h3 id="匹配行及前面-n-行" tabindex="-1">匹配行及前面 N 行 <a class="header-anchor" href="#匹配行及前面-n-行" aria-label="Permalink to “匹配行及前面 N 行”">​</a></h3><p>Before</p><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -B</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span></code></pre></div><h3 id="匹配行及前后-n-行" tabindex="-1">匹配行及前后 N 行 <a class="header-anchor" href="#匹配行及前后-n-行" aria-label="Permalink to “匹配行及前后 N 行”">​</a></h3><p>Context</p><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span></code></pre></div><h3 id="匹配多个单词" tabindex="-1">匹配多个单词 <a class="header-anchor" href="#匹配多个单词" aria-label="Permalink to “匹配多个单词”">​</a></h3><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;foo|bar&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span></code></pre></div><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;foo&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;bar&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span></code></pre></div><h3 id="排除目录某些文件" tabindex="-1">排除目录某些文件 <a class="header-anchor" href="#排除目录某些文件" aria-label="Permalink to “排除目录某些文件”">​</a></h3><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --exclude=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*.log&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path</span></span></code></pre></div><h3 id="匹配目录某些文件" tabindex="-1">匹配目录某些文件 <a class="header-anchor" href="#匹配目录某些文件" aria-label="Permalink to “匹配目录某些文件”">​</a></h3><div class="language-bash"><button title="复制代码" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> foo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --include=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*.txt&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path</span></span></code></pre></div>',40)]))}const c=s(t,[["render",l]]);export{o as __pageData,c as default};
