<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Shell on kugarocks</title><link>https://www.kugarocks.com/zh-hk/linux/shell/</link><description>Recent content in Shell on kugarocks</description><generator>Hugo</generator><language>zh-hk</language><copyright>Copyright (c) 2020-2024 Thulite</copyright><lastBuildDate>Tue, 27 Aug 2024 20:00:00 +0800</lastBuildDate><atom:link href="https://www.kugarocks.com/zh-hk/linux/shell/index.xml" rel="self" type="application/rss+xml"/><item><title>Shell 簡介</title><link>https://www.kugarocks.com/zh-hk/linux/shell/intro/</link><pubDate>Sat, 24 Aug 2024 20:00:00 +0800</pubDate><guid>https://www.kugarocks.com/zh-hk/linux/shell/intro/</guid><description>&lt;h2 id="gnu-bash-manual">GNU Bash Manual&lt;/h2>
&lt;p>Bash 係 Linux 中嘅默認 Shell，&lt;strong>官方手冊係永遠嘅神&lt;/strong>。&lt;/p>

 &lt;div class="card-nav d-flex flex-column flex-sm-row">
 &lt;div class="card text-end w-100">
 &lt;div class="card-body d-flex">
 &lt;div class="d-flex flex-column me-auto text-start">
 &lt;h5 class="card-title my-0">&lt;a href="https://www.gnu.org/software/bash/manual/bash.html" target="_blank" class="stretched-link text-reset text-decoration-none">Bash Reference Manual&lt;/a>&lt;/h5>
 &lt;p class="card-text mt-1">Bash 參考手冊&lt;/p></description></item><item><title>命令行歷史記錄</title><link>https://www.kugarocks.com/zh-hk/linux/shell/command-history/</link><pubDate>Sat, 24 Aug 2024 20:00:00 +0800</pubDate><guid>https://www.kugarocks.com/zh-hk/linux/shell/command-history/</guid><description>&lt;h2 id="神奇嘅-a">神奇嘅 ^[[A&lt;/h2>
&lt;p>首先喺命令行啟動一個新嘅 Shell &lt;code>/bin/sh&lt;/code>。&lt;/p>




&lt;div class="expressive-code">
 &lt;figure class="frame not-content">
 &lt;figcaption class="header">
 &lt;span class="title">&lt;/span>
 &lt;/figcaption>
 &lt;div class="highlight" frame="none">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">/bin/sh&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
 &lt;/figure>
&lt;/div>
&lt;p>然後輸入以下命令，一切正常。&lt;/p>




&lt;div class="expressive-code">
 &lt;figure class="frame not-content">
 &lt;figcaption class="header">
 &lt;span class="title">&lt;/span>
 &lt;/figcaption>
 &lt;div class="highlight" frame="none">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls -l&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
 &lt;/figure>
&lt;/div>
&lt;p>按一下方向鍵 ⬆️ 睇下上一條命令。&lt;/p>




&lt;div class="expressive-code">
 &lt;figure class="frame not-content">
 &lt;figcaption class="header">
 &lt;span class="title">&lt;/span>
 &lt;/figcaption>
 &lt;div class="highlight" frame="none">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">^&lt;span class="o">[[&lt;/span>A&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
 &lt;/figure>
&lt;/div>
&lt;p>你會發現睇唔到上一條命令，取而代之嘅係呢幾個字符 &lt;code>^[[A&lt;/code>。
呢個係因為早期嘅 sh 並唔支持睇命令嘅歷史記錄，直到 bash 先加咗呢個功能。&lt;/p></description></item><item><title>Shell 基本操作</title><link>https://www.kugarocks.com/zh-hk/linux/shell/basic-operations/</link><pubDate>Sat, 24 Aug 2024 20:00:00 +0800</pubDate><guid>https://www.kugarocks.com/zh-hk/linux/shell/basic-operations/</guid><description>&lt;h2 id="查看終端默認嘅-shell">查看終端默認嘅 Shell&lt;/h2>




&lt;div class="expressive-code">
 &lt;figure class="frame not-content">
 &lt;figcaption class="header">
 &lt;span class="title">&lt;/span>
 &lt;/figcaption>
 &lt;div class="highlight" frame="none">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$SHELL&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
 &lt;/figure>
&lt;/div>




&lt;div class="expressive-code">
 &lt;figure class="frame not-content">
 &lt;figcaption class="header">
 &lt;span class="title">&lt;/span>
 &lt;/figcaption>
 &lt;div class="highlight" frame="none">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">/bin/bash&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
 &lt;/figure>
&lt;/div>
&lt;p>如果你喺當前終端中啟動咗一個新嘅 Shell（例如從 Bash 切換到 Zsh），
呢個命令顯示嘅仍然係默認嘅登錄 Shell，呢個配置係存放喺 &lt;code>/etc/passwd&lt;/code> 裡面嘅。&lt;/p>




&lt;div class="expressive-code">
 &lt;figure class="frame not-content">
 &lt;figcaption class="header">
 &lt;span class="title">&lt;/span>
 &lt;/figcaption>
 &lt;div class="highlight" frame="none">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep root /etc/passwd&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
 &lt;/figure>
&lt;/div>




&lt;div class="expressive-code">
 &lt;figure class="frame not-content">
 &lt;figcaption class="header">
 &lt;span class="title">&lt;/span>
 &lt;/figcaption>
 &lt;div class="highlight" frame="none">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">root:x:0:0:root:/root:/bin/bash&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
 &lt;/figure>
&lt;/div>
&lt;p>喺 macOS 中，默認嘅 Shell 信息通常係存儲喺用戶賬戶設置中嘅，而唔係 &lt;code>/etc/passwd&lt;/code> 文件中。
從 macOS Catalina（10.15）開始，默認嘅 shell 已更改為 &lt;code>zsh&lt;/code>，之前嘅默認 Shell 係 &lt;code>bash&lt;/code>。
可以通過以下方法查看默認 shell。&lt;/p></description></item><item><title>內建命令與外部命令</title><link>https://www.kugarocks.com/zh-hk/linux/shell/command-type/</link><pubDate>Sat, 24 Aug 2024 20:00:00 +0800</pubDate><guid>https://www.kugarocks.com/zh-hk/linux/shell/command-type/</guid><description>&lt;h2 id="內建命令">內建命令&lt;/h2>
&lt;p>Builtin Commands。
內建命令係由 Shell 自身實現嘅命令，佢哋喺 Shell 內部運行，
&lt;strong>無需啟動新進程&lt;/strong>或者調用外部程序，係 Shell 操作嘅基本功能。&lt;/p>
&lt;h3 id="常見嘅內建命令">常見嘅內建命令&lt;/h3>
&lt;ul>
&lt;li>&lt;code>cd&lt;/code>：更改當前工作目錄。&lt;/li>
&lt;li>&lt;code>echo&lt;/code>：輸出字符串到終端。&lt;/li>
&lt;li>&lt;code>exit&lt;/code>：退出當前 Shell 會話。&lt;/li>
&lt;li>&lt;code>export&lt;/code>：設置或者導出環境變量。&lt;/li>
&lt;li>&lt;code>alias&lt;/code>：為命令創建別名。&lt;/li>
&lt;li>&lt;code>set&lt;/code>：設置 Shell 選項同變量。&lt;/li>
&lt;li>&lt;code>read&lt;/code>：從標準輸入讀取一行並賦值畀變量。&lt;/li>
&lt;/ul>
&lt;h3 id="完整嘅內建命令">完整嘅內建命令&lt;/h3>

 &lt;div class="card-nav d-flex flex-column flex-sm-row">
 &lt;div class="card text-end w-100">
 &lt;div class="card-body d-flex">
 &lt;div class="d-flex flex-column me-auto text-start">
 &lt;h5 class="card-title my-0">&lt;a href="https://www.gnu.org/software/bash/manual/html_node/Bash-Builtins.html" target="_blank" class="stretched-link text-reset text-decoration-none">Bash Builtin Commands&lt;/a>&lt;/h5>
 &lt;p class="card-text mt-1">Bash 內建命令&lt;/p></description></item><item><title>Shell 變量</title><link>https://www.kugarocks.com/zh-hk/linux/shell/shell-variables/</link><pubDate>Mon, 26 Aug 2024 20:00:00 +0800</pubDate><guid>https://www.kugarocks.com/zh-hk/linux/shell/shell-variables/</guid><description>&lt;h2 id="shell-變量">Shell 變量&lt;/h2>
&lt;p>Shell 變量係一個統稱，如果用嘅係某個特定嘅 Shell，例如 Bash，咁可以稱佢為 Bash 變量。
但係呢度必須要注意，Shell 變量唔係環境變量，唔好畀佢嘅大寫迷惑咗，以下係相關嘅官方文檔。&lt;/p>

 &lt;div class="card-nav d-flex flex-column flex-sm-row">
 &lt;div class="card text-end w-100">
 &lt;div class="card-body d-flex">
 &lt;div class="d-flex flex-column me-auto text-start">
 &lt;h5 class="card-title my-0">&lt;a href="https://www.gnu.org/software/bash/manual/html_node/Shell-Variables.html" target="_blank" class="stretched-link text-reset text-decoration-none">Shell Variables&lt;/a>&lt;/h5>
 &lt;p class="card-text mt-1">Shell 變量&lt;/p></description></item><item><title>Subshell</title><link>https://www.kugarocks.com/zh-hk/linux/shell/subshell/</link><pubDate>Tue, 27 Aug 2024 20:00:00 +0800</pubDate><guid>https://www.kugarocks.com/zh-hk/linux/shell/subshell/</guid><description>&lt;h2 id="subshell">Subshell&lt;/h2>
&lt;p>Subshell 嘅定義喺一啲書本或者資料中模糊唔清，畀出嘅解釋往往同某啲例子自相矛盾，令人捉摸唔透。
所以，為咗避免呢種語義同邏輯上嘅問題，呢度唔會畀出佢嘅定義（建議參考官方 BASH 手冊），
亦唔會用 “子 Shell” 呢個翻譯，只係從佢嘅實際表現去理解佢嘅定義。
下面列舉嘅變量同 Subshell 概念有密切嘅關係。&lt;/p>

 &lt;div class="card-nav d-flex flex-column flex-sm-row">
 &lt;div class="card text-end w-100">
 &lt;div class="card-body d-flex">
 &lt;div class="d-flex flex-column me-auto text-start">
 &lt;h5 class="card-title my-0">&lt;a href="https://www.gnu.org/software/bash/manual/bash.html" target="_blank" class="stretched-link text-reset text-decoration-none">Bash Reference Manual&lt;/a>&lt;/h5>
 &lt;p class="card-text mt-1">Bash 參考手冊&lt;/p></description></item></channel></rss>